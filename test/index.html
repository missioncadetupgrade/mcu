<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Final Year Project - Netflix Theme</title>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<script>
var SUPABASE_URL,SUPABASE_KEY;

const supabaseUrl = 'https://ndpmisgcnwtalxzlsgdh.supabase.co';
const supabaseKey = 'sb_publishable_VA-TOQxa5NucY7L1hPStkg_3eAj42PM';
const supabase1 = supabase.createClient(supabaseUrl, supabaseKey);


async function Lg() {
  const jEmail = document.getElementById('email').value;
  const jPass = document.getElementById('pass').value;
  const alertBox = document.getElementById('alert');

  const { data, error1 } = await supabase1
    .from('FacultyAuth')
    .select()
    .eq('Email', jEmail)
    .maybeSingle();

  if (error1) {
    alertBox.textContent = error1.message;
    alertBox.style.color = "#0099ff";
    return;
  }

  if (!data) {
    alertBox.textContent = "Email not found!";
    alertBox.style.color = "#0099ff";
    return;
  }

  if (data.Password === jPass && data.Role === 'Admin') {
    sessionStorage.setItem("email", data.Email);
    sessionStorage.setItem("role", "Admin");
    window.location.href = "admin.html";
  } 
  else if (data.Password === jPass && data.Role === 'Faculty') {
    sessionStorage.setItem("email", data.Email);
    sessionStorage.setItem("role", "Faculty");
    window.location.href = "faculty.html";
  } 
  else {
    alertBox.textContent = "Invalid Credentials!";
    alertBox.style.color = "#0099ff";
  }
}
</script>

<style>
/* ===== RESET ===== */
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family: "Segoe UI", Arial, sans-serif;
}

/* ===== BODY ===== */
body{
  height:100vh;
  overflow:hidden;
  background:#000;
  color:#fff;
}

/* ===== VIDEO BACKGROUND ===== */
#bg-video{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  object-fit:cover;
  z-index:-2;
}

/* Dark overlay like Netflix */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.65);
  z-index:-1;
}

/* ===== MAIN AUTH ===== */
.authen{
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* ===== CONTENT BOX ===== */
.content{
  width:100%;
  max-width:420px;
  padding:20px;
}

/* ===== FORM ===== */
.form{
  background:rgba(0,0,0,0.85);
  padding:40px 35px;
  border-radius:8px;
  box-shadow:0 0 40px rgba(0,0,0,0.9);
}

/* Heading */
.form h2{
  margin-bottom:25px;
  font-size:32px;
  font-weight:700;
}

/* Inputs */
.form input{
  width:100%;
  padding:14px;
  margin-bottom:15px;
  background:#333;
  border:none;
  border-radius:4px;
  color:#fff;
  font-size:15px;
}

.form input::placeholder{
  color:#aaa;
}

.form input:focus{
  outline:none;
  background:#444;
}

/* ===== LOGIN BUTTON ===== */
.btnn{
  width:100%;
  padding:14px;
  background:#e50914;
  border:none;
  border-radius:4px;
  font-size:16px;
  font-weight:700;
  color:#fff;
  cursor:pointer;
  margin-top:10px;
  transition:background .3s, transform .2s;
}

.btnn:hover{
  background:#f6121d;
  transform:scale(1.02);
}

/* ===== ALERT ===== */
.alert{
  margin-top:15px;
  font-size:14px;
  text-align:center;
  min-height:18px;
}

/* ===== RESPONSIVE ===== */
@media(max-width:500px){
  .form{
    padding:30px 22px;
  }

  .form h2{
    font-size:26px;
  }
}
</style>
</head>
<body>

<!-- Video Background -->
<video autoplay muted loop id="bg-video">
    <source src="Ace Your Aptitude Test.mp4" type="video/mp4">
</video>

<main class="authen">
    <div class="content">
        <div class="form" id="regform">
            <form method="POST" id="LoginForm">
                <h2>Login</h2>
                <input type="email" id="email" name="email" placeholder="Enter Email" required>
                <input type="password" id="pass" name="pass" placeholder="Enter Password" required>
                <button class="btnn" type="button" id="Login" onclick="Lg()">Login</button>
            </form>
            <div class="alert" id="alert"></div>
        </div>
    </div>
</main>

</body>
</html>

